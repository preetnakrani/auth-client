(this["webpackJsonpproject-client"]=this["webpackJsonpproject-client"]||[]).push([[0],{284:function(e,t,n){},285:function(e,t,n){},306:function(e,t){},308:function(e,t){},323:function(e,t){},325:function(e,t){},353:function(e,t){},355:function(e,t){},356:function(e,t){},361:function(e,t){},363:function(e,t){},369:function(e,t){},371:function(e,t){},390:function(e,t){},402:function(e,t){},405:function(e,t){},422:function(e,t,n){},432:function(e,t,n){},436:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(34),s=n.n(r),c=(n(284),n(17)),i=n.n(c),o=n(29),l=n(6),u=n(64),j=(n(285),n(124)),b=n.n(j),p=n(146),h=n.n(p),d="",f=function(e){d=e},m=function(){return d},O=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.a.create({baseURL:"".concat("http://localhost:9999","/apis/v1")}),e.next=3,t.get("/refresh",{withCredentials:!0});case 3:return n=e.sent,f(n.data.accessToken),e.abrupt("return",d);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m(),n=!1,"",""===t){e.next=23;break}if(e.prev=4,a=h.a.decode(t),(r=a.exp)&&!(Date.now()>=1e3*r)){e.next=13;break}return e.next=9,O();case 9:""!==e.sent&&(n=!0),e.next=14;break;case 13:n=!0;case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(4),console.log(e.t0),f(""),e.abrupt("return",[n,m()]);case 21:e.next=27;break;case 23:return e.next=25,O();case 25:""!==e.sent&&(n=!0);case 27:return e.abrupt("return",[n,m()]);case 28:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}(),w=function(){try{var e=h.a.decode(d).exp;if(!e||Date.now()>=1e3*e)return!1}catch(t){return!1}return!0},g=n(21),v=n(56),y=n(510),C=n(517),k=n(518),P=n(279),S=b.a.create({baseURL:"".concat("http://localhost:9999","/apis/v1"),withCredentials:!0});S.interceptors.request.use(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return n=e.sent,a=Object(l.a)(n,2),r=a[0],s=a[1],r&&(t.headers.authorization="Bearer ".concat(s)),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var N=S,I=n(2),T=n(11),U=n(512),F=n(514),q=(n(422),n(5)),L=["component","props"],E=function(e){var t=e.component,n=e.props,r=Object(T.a)(e,L),s=Object(a.useState)(w()),c=Object(l.a)(s,2),u=c[0],j=c[1],b=Object(a.useState)(!u),p=Object(l.a)(b,2),h=p[0],d=p[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,n=Object(l.a)(t,1),a=n[0],j(a),d(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u||(d(!0),e())}),[u]),Object(q.jsx)(g.b,Object(I.a)(Object(I.a)({},r),{},{render:function(){return u?Object(q.jsx)(t,Object(I.a)({},n)):h?Object(q.jsx)(U.a,{visible:!0,closable:!1,title:"Loading!!!",children:Object(q.jsx)(F.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}})}):Object(q.jsx)(g.a,{to:"/unauth"})}}))},A=(n(432),["component","props"]),z=function(e){var t=e.component,n=(e.props,Object(T.a)(e,A)),r=Object(a.useState)(w()),s=Object(l.a)(r,2),c=s[0],u=s[1],j=Object(a.useState)(c),b=Object(l.a)(j,2),p=b[0],h=b[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,n=Object(l.a)(t,1),a=n[0],u(a),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h(!0),e(),e()}),[c]),Object(q.jsx)(g.b,Object(I.a)(Object(I.a)({},n),{},{render:function(e){return c?p?Object(q.jsx)(U.a,{visible:!0,closable:!1,title:"Loading!!!",children:Object(q.jsx)(F.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}})}):Object(q.jsx)(g.a,{to:"/unauth"}):Object(q.jsx)(t,Object(I.a)({},e))}}))},V=n(511),R=n(513),Y=n(515),B=n(516),D=n(272),G=n.n(D),J=(n(436),(new G.a).is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits().has().symbols()),H=function(e){var t=Object(q.jsxs)("h3",{children:["You have succesfully signed up! You will receive a confirmation email. Once your email is verified, please go to the login page.",Object(q.jsx)(Y.a,{twoToneColor:"#52c41a"})]}),n=V.a.useForm(),r=Object(l.a)(n,1)[0],s=Object(a.useState)(!1),c=Object(l.a)(s,2),u=c[0],j=c[1],b=Object(a.useState)(!1),p=Object(l.a)(b,2),h=p[0],d=p[1],f=Object(a.useState)(t),m=Object(l.a)(f,2),O=m[0],x=m[1],w=Object(g.g)();return Object(q.jsxs)("div",{className:"signup-container",children:[Object(q.jsxs)(V.a,{labelCol:{span:7},wrapperCol:{span:14},className:"signup-form",form:r,onFinish:function(e){d(!0),N.post("/signup",e).then((function(e){console.log(e),x(t),j(!0)})).catch((function(e){x(Object(q.jsxs)("h3",{children:["Something went wrong, please try again! ",Object(q.jsx)(B.a,{})," ",Object(q.jsx)("br",{}),"This is what we think went wrong: ",e.response.data.error]})),j(!0)}))},children:[Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)("h1",{children:"SignUp!"})}),Object(q.jsx)(V.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input a username!"},{whitespace:!0,type:"string",message:"Username cannot be blank!"},{validator:function(){var e=Object(o.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!(n.split(" ").length>1)){e.next=4;break}return e.abrupt("return",Promise.reject("Username cannot containe whitespaces!"));case 4:return e.next=6,N.post("/signup/availability/username",{username:n});case 6:if(!e.sent.data.available){e.next=11;break}return e.abrupt("return",Promise.resolve());case 11:return e.abrupt("return",Promise.reject("Username not available!"));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}],hasFeedback:!0,children:Object(q.jsx)(R.a,{placeholder:"Username",autoComplete:"off",allowClear:!0})}),Object(q.jsx)(V.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input an email!"},{type:"email",message:"Please input a valid email!"}],hasFeedback:!0,children:Object(q.jsx)(R.a,{placeholder:"Email",allowClear:!0})}),Object(q.jsx)(V.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input a Password!"},{validator:function(e,t){if(!t)return Promise.resolve();var n=J.validate(t,{list:!0});if(0===n.length)return Promise.resolve();var a={min:"minimum length of 5 characters",max:"maximum length of 100 characters",uppercase:"atleast 1 uppercase character",digits:"atleast 1 digit",lowercase:"atleast 1 lowercase character",symbols:"atleast 1 symbol"},r=n.map((function(e){return a[e]})).reduce((function(e,t,a){return"".concat(e).concat(t).concat(n.length>=2&&a===n.length-2?" and ":", ")}),"The password requires: ");return Promise.reject(r.substring(0,r.length-2)+".")}}],hasFeedback:!0,children:Object(q.jsx)(R.a.Password,{placeholder:"Password",allowClear:!0})}),Object(q.jsx)(V.a.Item,{name:"confirmpassword",label:"Confirm Password",rules:[{required:!0,message:"Please re-enter Password!"},{validator:function(e,t){return t?0!==r.getFieldError("password").length?Promise.reject("You have not met the password conditions!"):r.getFieldValue("password")!==t?Promise.reject("The two password don't match!"):Promise.resolve():Promise.resolve()}}],dependencies:["password"],hasFeedback:!0,children:Object(q.jsx)(R.a.Password,{placeholder:"Confirm Password",allowClear:!0})}),Object(q.jsxs)(V.a.Item,{wrapperCol:{offset:7},children:[Object(q.jsx)(v.a,{type:"primary",htmlType:"submit",children:"SignUp"}),Object(q.jsx)(v.a,{className:"signup-resend-button",onClick:function(){w.push("/resend")},style:{background:"#52c41a",borderColor:"#52c41a",color:"white"},children:"Resend Link"})]})]}),Object(q.jsx)(U.a,{title:"SignUp",visible:h,onCancel:function(){d(!1),j(!1)},footer:[Object(q.jsx)(v.a,{onClick:function(){d(!1),j(!1)},disabled:!u,children:"Cancel"},"1"),Object(q.jsx)(v.a,{type:"primary",onClick:function(){return w.push("/login")},disabled:!u,children:"Login"},"2")],children:u?O:Object(q.jsx)(F.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}})})]})},K=(n(504),function(e){var t=V.a.useForm(),n=Object(l.a)(t,1)[0],r=Object(a.useState)(""),s=Object(l.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),j=u[0],b=u[1],p=Object(g.g)();return Object(q.jsx)("div",{className:"login-container",children:Object(q.jsxs)(V.a,{labelCol:{span:7},wrapperCol:{span:14},className:"logout-form",form:n,onFinish:function(t){N.post("/login",t).then((function(t){f(t.data.accessToken),e.setAuth(!0),b(t.data.message),i("success"),setTimeout((function(){p.push("/")}),1e3)})).catch((function(e){i("error"),b(e.response.data.error)}))},onValuesChange:function(){i("")},children:[Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)("h1",{children:"Login!"})}),Object(q.jsx)(V.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Username is required!"}],validateStatus:c,hasFeedback:!0,children:Object(q.jsx)(R.a,{placeholder:"Username",allowClear:!0})}),Object(q.jsx)(V.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Password is required!"}],validateStatus:c,hasFeedback:!0,children:Object(q.jsx)(R.a.Password,{placeholder:"Password",allowClear:!0})}),Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)("h4",{children:j})}),Object(q.jsxs)(V.a.Item,{wrapperCol:{offset:7},children:[Object(q.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Login"}),Object(q.jsx)(v.a,{className:"login-forgot-button",onClick:function(){p.push("/forgot")},style:{background:"#52c41a",borderColor:"#52c41a",color:"white"},children:"Forgot Password"})]})]})})}),M=(n(505),function(e){var t=Object(q.jsxs)("h3",{children:["If you have an account, you will receive an email to verify that its you.",Object(q.jsx)(Y.a,{twoToneColor:"#52c41a"})]}),n=V.a.useForm(),r=Object(l.a)(n,1)[0],s=Object(g.g)(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),p=b[0],h=b[1],d=Object(a.useState)(t),f=Object(l.a)(d,2),m=f[0],O=f[1];return Object(q.jsxs)("div",{className:"forgot-container",children:[Object(q.jsxs)(V.a,{labelCol:{span:7},wrapperCol:{span:14},className:"forgot-form",form:r,onFinish:function(e){u(!0),h(!0),N.post("/test",e).then((function(){h(!1)})).catch((function(e){O(Object(q.jsxs)("h3",{children:["Something went wrong, please try again! ",Object(q.jsx)(B.a,{})," ",Object(q.jsx)("br",{}),"This is what we think went wrong: ",e.response.data.error]})),h(!1)}))},children:[Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)("h1",{children:"Forgot Password!"})}),Object(q.jsx)(V.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Username is required!"}],children:Object(q.jsx)(R.a,{placeholder:"Username",allowClear:!0})}),Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Get Verification Email"})})]}),Object(q.jsx)(U.a,{title:"Forgot Password",visible:o,onCancel:function(){u(!1),h(!1)},footer:[Object(q.jsx)(v.a,{onClick:function(){u(!1),h(!1)},disabled:p,children:"Cancel"},"1"),Object(q.jsx)(v.a,{type:"primary",onClick:function(){return s.push("/login")},disabled:p,children:"Login"},"2")],children:p?Object(q.jsx)(F.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}}):m})]})}),Q=(n(506),function(e){var t=Object(q.jsxs)("h3",{children:["If you have an account, you will receive an email to verify that its you.",Object(q.jsx)(Y.a,{twoToneColor:"#52c41a"})]}),n=V.a.useForm(),r=Object(l.a)(n,1)[0],s=Object(g.g)(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(a.useState)(!1),b=Object(l.a)(j,2),p=b[0],h=b[1],d=Object(a.useState)(t),f=Object(l.a)(d,2),m=f[0],O=f[1];return Object(q.jsxs)("div",{className:"resend-container",children:[Object(q.jsxs)(V.a,{labelCol:{span:7},wrapperCol:{span:14},className:"resend-form",form:r,onFinish:function(e){u(!0),h(!0),N.post("/test",e).then((function(){h(!1)})).catch((function(e){O(Object(q.jsxs)("h3",{children:["Something went wrong, please try again! ",Object(q.jsx)(B.a,{})," ",Object(q.jsx)("br",{}),"This is what we think went wrong: ",e.response.data.error]})),h(!1)}))},children:[Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)("h1",{children:"Resend Verification Email!"})}),Object(q.jsx)(V.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Username is required!"}],children:Object(q.jsx)(R.a,{placeholder:"Username",allowClear:!0})}),Object(q.jsx)(V.a.Item,{wrapperCol:{offset:7},children:Object(q.jsx)(v.a,{type:"primary",htmlType:"submit",children:"Get Verification Email"})})]}),Object(q.jsx)(U.a,{title:"Resend Verification Link",visible:o,onCancel:function(){u(!1),h(!1)},footer:[Object(q.jsx)(v.a,{onClick:function(){u(!1),h(!1)},disabled:p,children:"Cancel"},"1"),Object(q.jsx)(v.a,{type:"primary",onClick:function(){return s.push("/login")},disabled:p,children:"Login"},"2")],children:p?Object(q.jsx)(F.a,{className:"spinner",spin:!0,style:{fontSize:"30px"}}):m})]})}),W=(n(507),function(e){var t=Object(g.g)(),n=Object(g.h)(),a=function(){try{return h.a.decode(m())||{}}catch(e){return{}}}().username||"";e.auth&&""===a&&e.setAuth(!1);var r=e.auth?[Object(q.jsx)("div",{className:"nav-bar-button",children:Object(q.jsx)(v.a,{onClick:function(){t.push("/")},icon:Object(q.jsx)(C.a,{}),type:"primary",children:a})},"2"),Object(q.jsx)("div",{className:"nav-bar-button",children:Object(q.jsx)(v.a,{type:"primary",onClick:Object(o.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.post("/logout");case 2:f(""),e.setAuth(!1),t.push("/");case 5:case"end":return n.stop()}}),n)}))),style:{width:"auto"},children:"Logout"})},"1")]:[Object(q.jsx)("div",{className:"nav-bar-button",children:Object(q.jsx)(v.a,{onClick:function(){t.push("/login")},type:"primary",children:"Login"})},"4"),Object(q.jsx)("div",{className:"nav-bar-button",children:Object(q.jsx)(v.a,{onClick:function(){t.push("/signup")},type:"primary",children:"SignUp"})},"3")],s=Object(q.jsx)(y.a,{className:"nav-bar",title:"/"===n.pathname?Object(q.jsx)(k.a,{className:"dollar"}):Object(q.jsx)(P.a,{onClick:function(){return t.goBack()}}),subTitle:Object(q.jsx)("div",{onClick:function(){t.push("/")},className:"home",children:"Project"}),extra:r});return Object(q.jsxs)("div",{children:[s,Object(q.jsxs)(g.d,{children:[Object(q.jsx)(g.b,{exact:!0,path:"/",component:X}),Object(q.jsx)(g.b,{exact:!0,path:"/signup",component:H}),Object(q.jsx)(g.b,{exact:!0,path:"/login",children:Object(q.jsx)(K,{setAuth:e.setAuth})}),Object(q.jsx)(g.b,{exact:!0,path:"/forgot",component:M}),Object(q.jsx)(g.b,{exact:!0,path:"/resend",component:Q}),Object(q.jsx)(E,{exact:!0,path:"/protected",component:function(){return Object(q.jsx)("div",{children:"This route is mega protected son!"})}}),Object(q.jsx)(z,{exact:!0,path:"/unprotected",component:function(){return Object(q.jsx)("div",{children:"This route is unprotected!"})}}),Object(q.jsx)(g.b,{exact:!0,path:"/unauth",render:function(){return Object(q.jsx)("div",{children:"You shall not pass"})}}),Object(q.jsx)(g.b,{path:"*",render:function(){return Object(q.jsx)("div",{children:"This route does not exist mate!"})}})]})]})}),X=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{children:"Authication Starter!!!"}),Object(q.jsx)("div",{children:"Try to signup, login, reset password, get reset link, confirm email!"})]})};var Z=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:t=e.sent,n=Object(l.a)(t,1),a=n[0],r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(q.jsx)(u.a,{children:Object(q.jsx)(W,{auth:n,setAuth:r})})};s.a.render(Object(q.jsx)(Z,{}),document.getElementById("root"))}},[[508,1,2]]]);
//# sourceMappingURL=main.73867653.chunk.js.map